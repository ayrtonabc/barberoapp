import{c as p,u as g,r as m,j as e,L as c,b as i}from"./index-XAQY0n2C.js";import{M as y}from"./mail-BuWhsrA5.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=p("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),w=()=>{const{user:s,updateProfile:o,loading:x}=g(),[a,u]=m.useState({first_name:(s==null?void 0:s.first_name)||"",last_name:(s==null?void 0:s.last_name)||"",avatar_url:(s==null?void 0:s.avatar_url)||""}),[n,d]=m.useState(!1),t=r=>{const{name:l,value:f}=r.target;u(j=>({...j,[l]:f}))},h=async r=>{r.preventDefault(),d(!0);try{await o(a)}catch(l){console.error("Error updating profile:",l)}finally{d(!1)}};return x||!s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(c,{className:"w-8 h-8 animate-spin text-gray-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2 xl font-semibold text-gray-900",children:"Mój Profil"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Zarządzaj swoimi danymi osobowymi"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:`${a.first_name} ${a.last_name}`,className:"h-20 w-20 rounded-full object-cover"}):e.jsx("div",{className:"h-20 w-20 rounded-full bg-red-100 flex items-center justify-center text-red-600",children:e.jsx(i,{className:"h-10 w-10"})}),e.jsxs("div",{className:"ml-6",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:[s.first_name," ",s.last_name]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.email}),e.jsx("span",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:s.role==="admin"?"Administrator":s.role==="manager"?"Menedżer":"Pracownik"})]})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"Imię"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(i,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"first_name",id:"first_name",value:a.first_name,onChange:t,className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Imię"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Nazwisko"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(i,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"last_name",id:"last_name",value:a.last_name,onChange:t,className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Nazwisko"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adres e-mail"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(y,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",id:"email",value:s.email,disabled:!0,className:"bg-gray-50 focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Adres e-mail nie może zostać zmieniony"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"avatar_url",className:"block text-sm font-medium text-gray-700",children:"URL zdjęcia profilowego"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"url",name:"avatar_url",id:"avatar_url",value:a.avatar_url,onChange:t,className:"focus:ring-red-500 focus:border-red-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"https://przyklad.pl/zdjecie.jpg"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Wprowadź URL zdjęcia dla swojego profilu"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:n?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"w-4 h-4 mr-2 animate-spin"}),"Zapisywanie..."]}):"Zapisz Zmiany"})})]})]})})]})};export{w as default};
